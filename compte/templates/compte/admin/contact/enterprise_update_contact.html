{% extends "../../admin/base.html" %}
{% block header %}
  {{ form.media }}
{% endblock header %}
{% load form_helpers %}

{% block main %}
<div class="container mt-5 d-flex justify-content-center">
  <div class="card shadow p-4 w-100" style="max-width: 800px;">
    <h4 class="text-center mb-4">Mettre à jour les infos de l'entreprise</h4>
    
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}

      <!-- Ligne 1 : nom entreprise + contact -->
      <div class="row mb-3">
        <div class="col-md-6">
          <div class="form-group">
            <label for="{{ form.nom_entreprise.id_for_label }}" class="form-label text-muted">{{ form.nom_entreprise.label }}</label>
            {{ form.nom_entreprise }}
            {% if form.nom_entreprise.errors %}
              <div class="invalid-feedback d-block">
                {% for error in form.nom_entreprise.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <label for="{{ form.contact.id_for_label }}" class="form-label text-muted">{{ form.contact.label }}</label>
            {{ form.contact }}
            {% if form.contact.errors %}
              <div class="text-danger">
                {% for error in form.contact.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- Ligne 2 : numéro téléphone + email -->
      <div class="row mb-3">
        <div class="col-md-6">
          <div class="form-group">
            <label for="{{ form.numero_telephone.id_for_label }}" class="form-label text-muted">{{ form.numero_telephone.label }}</label>
            {{ form.numero_telephone }}
            {% if form.numero_telephone.errors %}
              <div class="text-danger">
                {% for error in form.numero_telephone.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <label for="{{ form.email.id_for_label }}" class="form-label text-muted">{{ form.email.label }}</label>
            {{ form.email }}
            {% if form.email.errors %}
              <div class="text-danger">
                {% for error in form.email.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- Ligne 3 : localisation seule (pleine largeur) -->
      <div class="row mb-4">
        <div class="col-md-12">
          <div class="form-group">
            <label for="{{ form.localisation.id_for_label }}" class="form-label text-muted">{{ form.localisation.label }}</label>
            {{ form.localisation }}
            {% if form.localisation.errors %}
              <div class="text-danger">
                {% for error in form.localisation.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- Boutons -->
      <div class="text-center">
        <button type="submit" class="btn btn-primary">Enregistrer</button>
        <a href="{% url 'compte:contact_list' %}" class="btn btn-secondary">Annuler</a>
      </div>
      
    </form>
  </div>
</div>
{% endblock main %}
